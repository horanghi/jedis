import java.io.UnsupportedEncodingException;
import java.net.URLDecoder;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

import org.apache.commons.pool2.impl.GenericObjectPoolConfig;
import org.junit.After;
import org.junit.AfterClass;
import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.Test;

import redis.clients.jedis.Jedis;
import redis.clients.jedis.JedisPool;
import redis.clients.jedis.Protocol;
import redis.clients.jedis.Protocol.ORDERBY;
import redis.clients.spatial.model.LineString;
import redis.clients.spatial.model.LineStringBuffer;
import redis.clients.spatial.model.Point;
import redis.clients.spatial.model.Polygon;

import com.fasterxml.jackson.core.JsonParser;

/**
 * Created by sunho.hong on 15. 11. 4..
 */
public class PlaceDBSample {

	Jedis geodis = null;
	String key = "sap1";
	static JedisPool geodisPool;

	@BeforeClass
	public static void setUpBeforeClass() throws Exception {
		geodisPool = new JedisPool(new GenericObjectPoolConfig(), "172.19.114.202", 19004, 300000);
	}

	@AfterClass
	public static void tearDownAfterClass() throws Exception {
		geodisPool.destroy();
	}

	@Before
	public void before() {
		geodis = geodisPool.getResource();
	}

	@After
	public void after() {
		geodisPool.returnResource(geodis);
	}

	@Test
	public void testSlow() {
		double[] xy = { 126.92804944346466, 37.495668507923, 126.92805417406544, 37.49566925958279, 126.92903370734214, 37.495867553284356,
				126.93098494848867, 37.496119709401924, 126.93193352266215, 37.49624674069687, 126.93210381516326, 37.496268256570794,
				126.93282874672396, 37.49635437063409, 126.93358430028, 37.49641900383407, 126.93448421700049, 37.49646623665441,
				126.93584159618317, 37.496457446459175, 126.9364776505453, 37.496415796001706, 126.93766414874838, 37.49627605725428,
				126.93800578594615, 37.49621773680422, 126.93883822063528, 37.4960438094668, 126.9391520831319, 37.49596604633486,
				126.94028854396873, 37.49562145202746, 126.94100515265012, 37.49536316151483, 126.94174902056581, 37.49506544576261,
				126.94202789159017, 37.4949424240316, 126.94267339879656, 37.494658312714364, 126.9428392329305, 37.49458375629253,
				126.94393264472355, 37.494081771734514, 126.94460692793908, 37.493781828782886, 126.9446932866419, 37.49377246148628,
				126.94596470651327, 37.49364357646624, 126.94710128342226, 37.49354544057839, 126.94724115750338, 37.49353250428728,
				126.948435907367, 37.49341466123988, 126.94875847987727, 37.49338534304619, 126.94895618177054, 37.4933656548999,
				126.95029127412431, 37.493221069363734, 126.95288996607222, 37.49298584982734, 126.9534027306956, 37.49292783912552,
				126.95419988338863, 37.49281953263378, 126.95475249008835, 37.49273073895295, 126.95494691784735, 37.49269463551406,
				126.95563787221649, 37.49254427156164, 126.95569342310534, 37.4925303852797, 126.95716077933793, 37.4920573090751,
				126.95770806326996, 37.49183947589376, 126.95978086504536, 37.4910255885537, 126.95990334417782, 37.490981761888634,
				126.96051162854505, 37.49075402145034, 126.9607462850744, 37.49066323439165, 126.96179552625149, 37.49024406803467,
				126.96181037251844, 37.490238537535056, 126.96193861496226, 37.49018989414582, 126.96318295965358, 37.4897094166708,
				126.96321551398681, 37.489696789810246, 126.9642348768155, 37.4892996319643, 126.96426536026499, 37.489287705310964,
				126.96583467920874, 37.48867113834966, 126.96593372312473, 37.48863169548435, 126.96669140144841, 37.48832589367822,
				126.96786074518756, 37.487855506108886, 126.96985333700042, 37.487068094005814, 126.97002848654266, 37.48710957916141,
				126.97022286482631, 37.487153847170454, 126.97195047469653, 37.48753161199328, 126.97244316067749, 37.4876281525737,
				126.9729236701447, 37.48771148482933, 126.97337140749323, 37.487780100923594, 126.97460184642581, 37.4879439928033,
				126.97529082125233, 37.48801477158971, 126.97667124833306, 37.488114784687525, 126.97689816948696, 37.488128977114734,
				126.97705648817418, 37.488137312314514, 126.97732009269497, 37.48814816723017, 126.97816168205007, 37.488173179393556,
				126.97874216975667, 37.48817580847888, 126.98129471667555, 37.48812308253286, 126.98213475622518, 37.48807501451319,
				126.983790165484, 37.48791950666639, 126.98462345495226, 37.48781045814818, 126.98647329534587, 37.487499416296316,
				126.98705620563965, 37.48738589032299, 126.98810761511986, 37.48715285844485, 126.98823955661608, 37.487124874088416,
				126.98888225442015, 37.48696916938732, 126.99045990074013, 37.48653869209187, 126.99151037016449, 37.486251722589294,
				126.99155093856471, 37.486240560398585, 126.9927289388121, 37.48591412567254, 126.9940707839912, 37.485548699800866,
				126.99417871477553, 37.48551858739922, 126.99534635371228, 37.48520697829148, 126.99588232448636, 37.48509928822232,
				126.99698462086612, 37.48559219855838, 126.99917497373242, 37.48663661502763, 127.00183590065778, 37.48791695502458,
				127.00310000756373, 37.488561716048046, 127.00320472853522, 37.48861445980568, 127.00472137912423, 37.48936869003639,
				127.00539426573158, 37.4897064610845, 127.00703078578965, 37.49053436805555, 127.00724983912825, 37.490642287274305,
				127.00799698323715, 37.49100059238876, 127.00891854578991, 37.491394232851036, 127.00913241294064, 37.49147478288602,
				127.00968671875172, 37.4916675897136, 127.01015611624183, 37.491817580710126, 127.01031203424347, 37.49186618804385,
				127.01261458270486, 37.49256614803935, 127.01286076292382, 37.492638003577106, 127.01340189580235, 37.492789438802276,
				127.01428560220494, 37.493059874007194, 127.01441404774913, 37.493098365799945, 127.0148306730481, 37.49322058130009,
				127.01547739498056, 37.493410146400976, 127.01661033681164, 37.49368089825478, 127.01825184545972, 37.49398644776815,
				127.01869357056525, 37.49405982367616, 127.01984941233637, 37.494228823574765, 127.02013451005732, 37.49441543514567,
				127.02111396567373, 37.49492978833502, 127.02139449201115, 37.495060333761685, 127.02240167919186, 37.495472381053446,
				127.02344323428662, 37.49578761425629, 127.02450987455993, 37.496003223891876, 127.02559209370759, 37.49611728836508,
				127.02668024658055, 37.496128791089866, 127.02776463514614, 37.49603762954958, 127.02801739086372, 37.49600430462284,
				127.02923766728215, 37.49577598527089, 127.03042631247477, 37.49541775787118, 127.03156953918631, 37.494933777551466,
				127.03229170565604, 37.49458105370285, 127.03325179434424, 37.494054227309, 127.03415755511834, 37.49343866759737,
				127.03500081251009, 37.49273993065849, 127.03577395521171, 37.49196432334714, 127.03647000477613, 37.49111884635612,
				127.03708267860509, 37.49021113102751, 127.03716878588297, 37.4900694823587, 127.03772699211575, 37.489036010724256,
				127.0381771277471, 37.487951097948546, 127.03851451886908, 37.4868260090417, 127.03873566223747, 37.48567242617596,
				127.03883826164713, 37.48450232738583, 127.03882125177428, 37.48332786219617, 127.0388101464615, 37.48315843723119,
				127.03873211431335, 37.48247797398285, 127.03921750880707, 37.48126076096141, 127.03932012716011, 37.48103564128632,
				127.04026862650895, 37.480034855172995, 127.04037927994271, 37.47991644569524, 127.04079229601093, 37.47946820458065,
				127.04442300270992, 37.475612913104854, 127.04607279340135, 37.47386447444511, 127.04778092054877, 37.472110958527594,
				127.04790258286926, 37.471984143515954, 127.04880530551256, 37.47102871510417, 127.04898394738325, 37.4708352639191,
				127.04929226231862, 37.470493642453896, 127.04930417598717, 37.47048042127408, 127.05055160218468, 37.4690939407387,
				127.05487605169996, 37.464641042580546, 127.05503979972363, 37.464468916706515, 127.05538144566974, 37.46410229873862,
				127.05540313783166, 37.46407895642001, 127.05693119723654, 37.46243009058953, 127.05754812750729, 37.46176991459239,
				127.05767493588927, 37.461631986991094, 127.05948871644792, 37.459626696807135, 127.05950267121693, 37.459611240571604,
				127.06102202509283, 37.45792535246001, 127.06110236924509, 37.45783525772587, 127.06393553559515, 37.454624570210754,
				127.06397216869719, 37.45458285365905, 127.06526098203189, 37.45310804800383, 127.06588629551061, 37.45232644913093,
				127.06814553220788, 37.44923652884148, 127.06942596985431, 37.44754007807447, 127.06962118194802, 37.44727358445227,
				127.07020947885238, 37.4464458475365, 127.0703205671207, 37.44630037240976, 127.07088975739397, 37.44568012766024,
				127.07177611678968, 37.444805136174566, 127.0718155237314, 37.44476604685882, 127.07613454700251, 37.44046115583869,
				127.07982573741769, 37.43681719364761, 127.07984125056456, 37.43680184997062, 127.08324381423515, 37.4334300801625,
				127.08326096197115, 37.433413051953764, 127.08672185573133, 37.429969069335264, 127.08673143536981, 37.429959525316505,
				127.0923362768946, 37.42436896960195, 127.09856324469064, 37.4181589764435, 127.0999566890726, 37.41680300847332,
				127.10026163799172, 37.41656128411497, 127.1009071571218, 37.41600969448965, 127.10386389018367, 37.413288528675025,
				127.10515304727775, 37.41218294247717, 127.1063693099479, 37.41117770816033, 127.10728462200377, 37.41033400401727,
				127.10820678717812, 37.40938690823743, 127.10858273322093, 37.408963866261594, 127.10924546001678, 37.409057890599165,
				127.11037563484857, 37.409106245911644, 127.11150510722906, 37.409043591875, 127.11262299972184, 37.40887053188184,
				127.11371854641106, 37.40858873259451, 127.11478119658325, 37.4082009078942, 127.11580071633634, 37.40771079274477,
				127.11676728713778, 37.40712310722305, 127.11767160038235, 37.406443511061866, 127.11850494703918, 37.40567854914375,
				127.11925930152441, 37.40483558847015, 127.11992739899198, 37.40392274721316, 127.12050280529803, 37.40294881653309,
				127.12097997896532, 37.40192317591481, 127.12135432455055, 37.40085570283813, 127.12162223690113, 37.39975667765233,
				127.12178113587464, 37.39863668457072, 127.12182949118713, 37.397506509738946, 127.12182119562499, 37.39619555054885,
				127.12176016394928, 37.395081648122556, 127.12159174210777, 37.39397886184949, 127.12131750756606, 37.39289752060045,
				127.1209400288483, 37.391847752388706, 127.12046284147988, 37.39083938950949, 127.11989041487324, 37.38988187644913,
				127.11922811046657, 37.388984181426494, 127.11848213150776, 37.38815471239526, 127.11765946495383, 37.387401238293656,
				127.11676781602992, 37.38673081627936, 127.11581553606099, 37.38614972563109, 127.11481154425194, 37.38566340893582,
				127.11376524414895, 37.385276421112685, 127.11268643556441, 37.3849923867509, 127.11174905012348, 37.3848405097776,
				127.11147174463169, 37.384663704388075, 127.1105412706117, 37.38418316745994, 127.10957102471362, 37.383789060192285,
				127.10943770482456, 37.383741841051624, 127.10818280610587, 37.38337600616307, 127.1068945577179, 37.38315459692503,
				127.10558952525035, 37.38308046043954, 127.1054478714522, 37.38308045789433, 127.10430935839942, 37.383136800036944,
				127.10318197707751, 37.383305316396346, 127.10207675238324, 37.38358435901595, 127.10100449253912, 37.383971199079866,
				127.10089385300066, 37.384023986244365, 127.10001775523327, 37.38430158841986, 127.09908410493969, 37.38469042437207,
				127.09818813211163, 37.38515960339948, 127.09623272213616, 37.386295547604924, 127.09532643639848, 37.38688039157511,
				127.0944787834338, 37.38754738539763, 127.09429268468261, 37.38770847447833, 127.09346345893225, 37.38850181760299,
				127.09271722864332, 37.38937368285315, 127.09206139032638, 37.39031542844541, 127.09150244454175, 37.39131771995408,
				127.09104593146708, 37.39237062283241, 127.09019273913881, 37.39464206047505, 127.0887025379806, 37.39592006285359,
				127.08840059520476, 37.39618833236003, 127.08560783622623, 37.39875858814634, 127.08517692369246, 37.39910016028909,
				127.08429837197842, 37.39987228479404, 127.08243460125085, 37.40168592977554, 127.08233388513581, 37.40178514689228,
				127.07605650109772, 37.40804541885872, 127.0704553593332, 37.41363228417888, 127.0670078231308, 37.41706297450932,
				127.06362159156666, 37.420418560019726, 127.05991847821176, 37.42407429259832, 127.05987919817593, 37.424113256633845,
				127.05556023805637, 37.42841808470906, 127.05449116834454, 37.42947344317874, 127.05409635264265, 37.42988291583179,
				127.05298253075682, 37.431096643839865, 127.0523140449458, 37.43189460875256, 127.05176685224433, 37.432611182417766,
				127.05153251197319, 37.43292921543583, 127.05092546672252, 37.433783331375935, 127.04969172028873, 37.43541792099435,
				127.04958714243537, 37.4355586903342, 127.04757182528822, 37.43831500592973, 127.04663091868116, 37.43939169744724,
				127.04385605531003, 37.44253631307549, 127.04238407979439, 37.444169629751585, 127.04064012730039, 37.4460977190129,
				127.0400707971096, 37.44670695824822, 127.04003814086882, 37.446742049614976, 127.03850461977508, 37.448396808928464,
				127.0382548231255, 37.44866486403376, 127.03386008334894, 37.45319014027701, 127.03356009696893, 37.453511052024744,
				127.03217168732607, 37.45505423185278, 127.03195755041219, 37.45529150146862, 127.0312056013521, 37.45608735333027,
				127.02949480348035, 37.45784361093925, 127.02936788609415, 37.45797599153602, 127.02765132420824, 37.45979519392257,
				127.02396609655868, 37.463708370934434, 127.02388057285954, 37.46380018094606, 127.02347995529594, 37.464234966120415,
				127.02222744492765, 37.46555652209714, 127.02183060312284, 37.46599742868882, 127.02132507685333, 37.466589017579835,
				127.02050745592003, 37.46766823629698, 127.01967694086271, 37.468909743876054, 127.01919009015904, 37.46970539756456,
				127.01885527540445, 37.47036752250402, 127.0173074118316, 37.4698969818845, 127.01578516577047, 37.469126885533136,
				127.01575297297491, 37.46911066253869, 127.01504471413602, 37.468755135578085, 127.01500615180994, 37.468735868514,
				127.01352269666036, 37.46799814637298, 127.01219173547892, 37.46731928615198, 127.01195219771914, 37.46720058923338,
				127.00915249053526, 37.46585347328926, 127.00911581328234, 37.46583590515727, 127.00677994618424, 37.46472210376721,
				127.00652418212397, 37.4646039631469, 127.00447439453326, 37.46368736620551, 127.00316853464967, 37.46319593126941,
				127.00136871412141, 37.462640407983955, 127.0003578401927, 37.46237791291528, 126.99932735668685, 37.462207990859625,
				126.9988357364079, 37.46214965549247, 126.99780091176805, 37.46207389048309, 126.99611773295403, 37.46202664358894,
				126.9951389790773, 37.462040747670606, 126.99382243011698, 37.462115715374445, 126.99220705781887, 37.46232293517093,
				126.99045165207977, 37.46267564053208, 126.98975013142838, 37.462839555966845, 126.98814748745185, 37.46326725535561,
				126.98808339554108, 37.46328455749117, 126.98663907143106, 37.46367893025481, 126.98659713066826, 37.463690467260186,
				126.98541472696952, 37.46401812222319, 126.9843895535473, 37.46429818183363, 126.98311613265163, 37.46464564804085,
				126.98235761166026, 37.46481376481605, 126.98121534491614, 37.46500583152875, 126.98039771130868, 37.46508263938825,
				126.97855633889255, 37.465120675164165, 126.9781771206665, 37.46510940474093, 126.97730229126549, 37.46504602261834,
				126.97663981896777, 37.46495778270065, 126.97662989839957, 37.46495606222815, 126.97524496062127, 37.46465322720534,
				126.97472434676781, 37.46452991688184, 126.97406442442998, 37.46435846922488, 126.97296671923976, 37.464129634194734,
				126.97182516157599, 37.46394907918012, 126.97013730111195, 37.4638081004942, 126.96900129372514, 37.46379697034372,
				126.96814958532873, 37.46382011588455, 126.96730191320927, 37.4639061094103, 126.96638254885593, 37.46403385589464,
				126.96519516941373, 37.46426288292051, 126.96403831726705, 37.46461504258463, 126.96287452242656, 37.46503719494034,
				126.96250995410696, 37.46517646533865, 126.96182834709956, 37.46545015936762, 126.96154950587665, 37.46556068202245,
				126.9593552164681, 37.466427798923554, 126.95928965499544, 37.46645393918176, 126.95808141796375, 37.46693997221165,
				126.95806911568097, 37.46694492923025, 126.95735471840352, 37.46723326264419, 126.95588695017129, 37.467809931524954,
				126.9558145981057, 37.46783698497346, 126.95485638633947, 37.46821155266194, 126.95369831939911, 37.46865871580194,
				126.95362093006709, 37.4686875447104, 126.95336845600114, 37.4687849858641, 126.9523103825681, 37.46920768066109,
				126.95182493568342, 37.46938943099406, 126.95153478637968, 37.469495866529115, 126.94999791102914, 37.47009932191298,
				126.94811197274927, 37.47027002684329, 126.94791001123988, 37.47029010134374, 126.94657279260525, 37.47043491714822,
				126.94630509416905, 37.47045924790906, 126.94621700278556, 37.470467595446365, 126.94504812087905, 37.470582887031746,
				126.94389598341606, 37.47068236647037, 126.94372502890454, 37.470698410876594, 126.94232792990712, 37.47084003610704,
				126.94224743631473, 37.470848481412254, 126.94106976217435, 37.47097622329142, 126.93992807713688, 37.471158379420004,
				126.93900871093363, 37.47135278483992, 126.93805894741085, 37.47159623854715, 126.93713330864479, 37.47191952376416,
				126.93638614609107, 37.47221669810101, 126.9359612946598, 37.47239559727657, 126.93479852246827, 37.472912835901475,
				126.933829275389, 37.47249240442705, 126.9327346064511, 37.47214231739223, 126.93161051689965, 37.471902977266375,
				126.93046818111397, 37.471776763288176, 126.92931895485606, 37.471764930128906, 126.92817426238489, 37.47186759541996,
				126.92704548288985, 37.47208373858346, 126.9259438373722, 37.472411210977704, 126.92488027709904, 37.4728467572564,
				126.92386537473863, 37.47338604772949, 126.92249325441509, 37.474205372456744, 126.92154033501602, 37.4748406474158,
				126.92065515852431, 37.47556734696392, 126.91984646282799, 37.47637829759466, 126.91912223084631, 37.4772654941295,
				126.91848961172754, 37.47822017873986, 126.91795485027714, 37.47923292739866, 126.91752322531325, 37.48029374290819,
				126.91719899755745, 37.481392153585986, 126.91698536757579, 37.482517316634464, 126.91688444418487, 37.483658125174,
				126.91689722363493, 37.48480331788284, 126.9170235797755, 37.485941590161545, 126.91726226530078, 37.48706170572466,
				126.91761092406207, 37.48815260751809, 126.91806611432632, 37.48920352686706, 126.91862334275056, 37.4902040897776,
				126.91927710873729, 37.4911444193418, 126.92002095873286, 37.49201523323628, 126.9208475499327, 37.49280793535124,
				126.92174872276478, 37.4935147006457, 126.92271558143555, 37.4941285523912, 126.92373858174352, 37.49464343104158,
				126.92480762529335, 37.49505425404885, 126.92591215918068, 37.49535696603481, 126.9270412801636, 37.49554857882314,
				126.92804944346466, 37.495668507923 };

		List<Point<String>> xyList = new ArrayList<Point<String>>();
		for (int idx = 0; idx < xy.length; idx++) {
			double lat = xy[idx + 1];
			double lon = xy[idx++];
			xyList.add(new Point<String>(lat, lon));
		}

		Polygon<String> polygon = new Polygon<String>(xyList);

		LineString<String> linestr = new LineString<String>(37.397579449656014, 127.11030269493149, 37.39626849046592, 127.11029439936935,
				37.396218437865016, 127.10704469599972, 37.3960323424009, 127.10671417572419, 37.395657382801325, 127.10654197973066,
				37.394654706608335, 127.10572263802413, 37.394607487467674, 127.10558931813507, 37.39460748492247, 127.10544766433692,
				37.39485467023612, 127.10498936566013, 37.39512684271921, 127.10397833871362, 37.39626278692465, 127.10202292873815,
				37.39642387600535, 127.10183682998696, 37.40063169281155, 127.10025629924715, 37.40134549335322, 127.09994797377604,
				37.40229258913306, 127.0990258086017, 37.40336466367519, 127.09772867397015, 37.40467004044038, 127.09620655319787,
				37.407527986409306, 127.09310119912868, 37.40813345799475, 127.0923373625555, 37.40994710297625, 127.09047359182793,
				37.41620737494269, 127.08419620778984, 37.421798292158634, 127.0785910038399, 37.42524227477713, 127.07513011007973,
				37.42861404458525, 127.07172754640914, 37.43227744166068, 127.06801666922031, 37.43660186183198, 127.06367805268702,
				37.43767671752133, 127.0625892324472, 37.4388904455294, 127.06147541056137, 37.43960701919461, 127.0609282178599,
				37.440595780693485, 127.06022547606132, 37.44236221837533, 127.05889221408172, 37.4455229210898, 127.05658122386426,
				37.44699772674502, 127.05529241052956, 37.45020841426013, 127.0524592441795, 37.45189430237173, 127.05093989030361,
				37.453899592555686, 127.04912610974496, 37.45457728028492, 127.04849281487193, 37.45624372575006, 127.04694846382854,
				37.45661034371796, 127.04660681788243, 37.46122083913959, 127.04212931716647, 37.462770634159234, 127.04073495578963,
				37.46311225562444, 127.04042664085426, 37.46406768403622, 127.03952391821096, 37.46588688543062, 127.03775180581816,
				37.46770608781717, 127.03603524393225, 37.47161112389222, 127.03235769043819, 37.47210550274908, 127.03190216236406,
				37.47348587452105, 127.03059390907254, 37.474077463412065, 127.03008838280303, 37.47531897099114, 127.02925786774571,
				37.476732684129324, 127.02861344200261, 37.479804527599306, 127.02738846668633, 37.48121824316957, 127.02688013966787,
				37.483317985331304, 127.02610237333951, 37.48422620918609, 127.02588014567746, 37.48447895935099, 127.02597735191142,
				37.48460950477765, 127.02625787824884, 37.48457617985091, 127.02651063396642, 37.4842234560023, 127.02723280043615,
				37.48408180733349, 127.02731890771403, 37.48391238236851, 127.02730780240125, 37.48373739915389, 127.02711060306947,
				37.483484640266894, 127.02652732995806, 37.48332630538737, 127.02541632442605, 37.48309851893093, 127.02345817572805,
				37.4830068488084, 127.02267213873992, 37.48286796100176, 127.02183333011062, 37.482862405244354, 127.02178611234243,
				37.482654070546154, 127.02036124789848, 37.48234852103278, 127.0187197392504, 37.48215964252319, 127.01807535878389,
				37.482037427023045, 127.01765873348492, 37.48172633381135, 127.01664216811928, 37.48153745475503, 127.0159672348775,
				37.48083749475953, 127.0136646864161, 37.480687503763, 127.013195288926, 37.480606953728014, 127.01298142177527,
				37.48024864861356, 127.01223427766637, 37.479412604975124, 127.01058167389375, 37.47905707801452, 127.00987341505487,
				37.478293250305164, 127.0083374652903, 37.47758775189486, 127.00695427775236, 37.47624063595074, 127.00415457056847,
				37.475126834560676, 127.00181870347038, 37.47421023761929, 126.99976891587967, 37.47365471433383, 126.99796909535141,
				37.473596378966676, 126.99747747507246, 37.47354913207253, 126.99579429625844, 37.473624099776366, 126.99447774729812,
				37.47397680513752, 126.99272234155902, 37.474404504526284, 126.99111969758249, 37.47442672277459, 126.99104192625647,
				37.47479887728992, 126.98967537347247, 37.47513215036885, 126.9884726957605, 37.4754182094964, 126.98742556077991,
				37.47584868679185, 126.98584791445992, 37.475887567881095, 126.98566459671588, 37.476131964187836, 126.98456191241412,
				37.4764430060397, 126.9827120720205, 37.47659851388651, 126.98105666276169, 37.47665123983253, 126.97850411584281,
				37.47662622766914, 126.9776625264877, 37.47661789246936, 126.97750420780048, 37.47651787937155, 126.97612378071975,
				37.47635398749184, 126.97489334178717, 37.476270655236206, 126.97441283231996, 37.47589289041338, 126.97268522244974,
				37.47571789751571, 126.97194640574574, 37.47551512932144, 126.9711659269502, 37.47533457430682, 126.97002436928643,
				37.475323444156345, 126.96888836189963, 37.47545119064068, 126.9679689975463, 37.47587334299639, 126.9668052027058,
				37.476156630796225, 126.96609970339253, 37.47627883330545, 126.96579139468273, 37.477148137400846, 126.96359157045268,
				37.47763417043073, 126.96238333342099, 37.47794245428387, 126.96161950538472, 37.478559021245175, 126.96005018644097,
				37.47857290782511, 126.96001130070105, 37.47895617909112, 126.95903082361228, 37.47943665656614, 126.95778647892097,
				37.47948942567931, 126.95764482366457, 37.47995879457643, 126.95646991741098, 37.480186535014724, 126.95586163304375,
				37.480225417349246, 126.95574775342781, 37.481119717154925, 126.95347015782741, 37.48134745823951, 126.95289798128621,
				37.48136134452145, 126.95284243039735, 37.48139744796034, 126.95264800263836, 37.48150575445208, 126.95185084994533,
				37.48175012221855, 126.94915108887616, 37.48190563402509, 126.94771510413426, 37.481938956930165, 126.94734846991206,
				37.48206114280348, 126.94610969037689, 37.48216666424528, 126.94488757646143, 37.482308289475725, 126.94349047746401,
				37.482436031354894, 126.94231280332363, 37.48263043677481, 126.94139343712038, 37.48292761111166, 126.94064627456666,
				37.48357750948311, 126.93918527819622, 37.484107982748085, 126.9380298129243, 37.484394049002816, 126.93737986405662,
				37.484519029416965, 126.93709655300391, 37.48477731992959, 126.93637994432252, 37.48485508306153, 126.9360660818259,
				37.48491340351159, 126.93572444462814, 37.48495505396906, 126.935088390266, 37.48490782114872, 126.93418847354552,
				37.48482170708542, 126.93346354198482, 37.484691149274106, 126.93248863443925, 37.48443558806771, 126.93051104394422,
				37.484407811730286, 126.9304110538316, 37.48435226039553, 126.93028606677699, 37.484257816302126, 126.92969167911895,
				37.48328293106311, 126.9297750322948, 37.48410225579036, 126.92840291197126, 37.48425226089569, 126.92966390402688);

		System.out.println(linestr.getJsonStr());
		long start = System.currentTimeMillis();
		LineStringBuffer range = new LineStringBuffer(linestr, 1000, Protocol.UNITS.M);
		System.out.println(range.getLinePolygon().getJsonStr());
		List<Point<String>> result = geodis.gpregion("sap1", range, "*name1\":\"벌터\"*", ORDERBY.SCORE_ASC);
		long end = System.currentTimeMillis();
		System.out.println("duration = " + (end - start));
		System.out.println("result = " + result.size());
		System.out.println(result.get(0));
		// for (Point<String> p : result) {
		// System.out.println(p.getScore());
		// }

	}

	private void show(List<Point<String>> points, int limit) {
		for (int i = 0; i < limit && i < points.size(); i++) {
			Point<String> point = points.get(i);
			String value = point.getValue();
			System.out.println("point = " + value);
		}
	}

}
